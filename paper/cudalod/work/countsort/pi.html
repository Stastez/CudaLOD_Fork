
<body>

<script>

const svgns = "http://www.w3.org/2000/svg";

let coordinates = [
    [48.485416,18.254358],[53.207048,14.667256],[56.501798,21.301558],[54.467096,19.604736],[63.017949,15.735545],[62.374685,14.738895],[62.342348,13.739694],[66.689236,18.820095],[73.595631,17.865962],[76.838286,22.085758],[74.605803,16.760499],[82.835371,17.237885],[82.037429,18.260986],[85.427115,19.27104],[57.093504,37.232465],[59.554197,36.435837],[55.397938,42.727088],[58.881326,39.790299],[59.658143,47.406417],[62.365621,42.540426],[73.905463,43.640996],[82.786217,43.992158],[58.034607,37.709679],[60.40828,42.814164],[63.428192,37.923656],[58.634414,28.747798],[57.792168,27.897817],[63.671608,21.641371],[61.181565,24.122361],[58.764105,20.950357],[67.26708,17.825621],[73.945501,21.687222],[77.671898,25.541911],[76.969993,15.303366],[75.832984,21.441582],[79.314574,28.397924],[80.577247,31.113671],[74.390826,33.474757],[75.320789,37.151372],[73.410407,38.529142],[78.052288,37.462737],[78.688269,40.132832],[80.288286,42.909598],[81.156118,40.635255],[77.148649,42.95314],[78.939848,40.584704],[74.437437,33.357336],[78.29856,31.818346],[76.718837,29.013465],[77.341761,18.585203],[72.540013,19.40413],[78.440023,31.341748],[72.527068,26.023413],[80.68007,36.055391],[80.475334,33.874234],[79.651097,39.810985],[77.006274,36.168373],[79.17297,44.696749],[75.729866,37.594747],[79.483366,41.726322],[82.908036,47.779206],[78.756549,48.103459],[87.776238,44.179977],[83.652153,45.881361],[85.131903,46.591982],[83.327389,46.927907],[78.841622,44.788136],[73.606601,40.087465],[76.212482,36.486984],[75.281049,30.187655],[75.300012,29.337359],[73.115295,28.290631],[69.58685,18.688096],[72.609597,20.654762],[71.815627,18.416725],[69.200125,18.574654],[72.926662,14.844481],[73.122911,14.97836],[75.043585,23.184523],[73.005049,15.951431],[74.681746,19.288688],[73.047786,17.15211],[74.422265,22.241759],[75.478185,26.715905],[73.96458,29.390647],[77.169604,24.185344],[81.392418,25.087729],[73.353243,23.160899],[78.397817,23.73568],[73.061382,25.72307],[81.020428,20.966792],[74.469329,28.650885],[75.744152,27.63808],[77.791633,23.579131],[84.199734,18.740371],[81.049171,19.816821],[80.734577,17.543702],[86.849417,17.425164],[85.389091,16.960396],[84.763422,18.35555],[87.547646,13.858851],[84.570066,15.099231],[82.353001,19.207964],[79.449611,12.964562],[83.022882,13.850975],[79.246568,20.866723],[75.839837,17.460965],[69.18212,15.097583],[70.044765,18.260972],[72.426621,17.904965],[69.348588,14.767549],[64.137,13.351415],[62.967846,17.162929],[64.154797,12.716067],[57.489416,16.767664],[64.018584,16.913371],[61.012664,14.109205],[58.218699,13.383224],[57.495262,17.009489],[52.460848,15.411439],[51.912092,18.282235],[50.572024,18.055171],[54.78648,15.238209],[52.015643,16.580253],[47.790969,22.559871],[46.002718,21.746691],[50.696216,19.745779],[58.132545,18.562583],[56.500676,19.913419],[46.701409,22.800518],[50.531429,17.124819],[47.907179,18.959923],[49.452269,20.973452],[45.865711,20.071863],[45.221179,21.505959],[50.214632,15.77646],[50.448556,16.213796],[61.493892,19.739706],[56.720886,15.601805],[56.958646,16.338902],[64.689788,17.332812],[59.280894,13.419279],[64.665068,16.298883],[70.584165,13.564079],[71.853628,16.06973],[63.320621,21.328832],[61.454306,22.035735],[61.870991,27.23868],[60.810423,27.087352],[61.890616,27.652274],[58.948911,27.606748],[58.268804,37.667472],[56.829828,38.569616],[59.405684,36.179481],[59.231716,40.338705],[59.591143,36.140142],[63.781087,35.363353],[63.970306,34.295366],[57.760864,25.886208],[57.871884,27.038051],[60.160345,30.618469],[63.265469,33.846137],[62.225056,34.985613],[56.422552,38.42982],[59.658489,32.178464],[59.437575,31.409182],[57.356457,31.387525],[60.000798,31.657067],[62.318092,29.644984],[58.207049,27.586612],[62.742962,28.341595],[61.44509,35.49352],[57.190586,44.805116],[56.010465,42.350731],[55.987015,46.523202],[58.689596,46.189966],[63.196662,44.137318],[58.107993,45.885319],[55.596891,44.584282],[57.433089,40.8551],[58.40086,39.983994],[61.169775,43.616227],[60.282736,42.747372],[62.532472,45.425981],[55.560206,46.298688],[62.696783,46.486874],[57.952287,46.641445],[58.750295,44.585975],[55.97225,45.698368],[61.939705,45.975647],[61.752098,43.058943],[57.985448,44.896343],[59.9104,40.455931],[56.095634,31.068541],[58.163838,37.067171],[59.802468,43.821261],[57.972005,34.630154],[61.155473,27.404673],[57.009168,31.761916],[60.777473,41.164857],[58.272573,31.468474],[63.664421,21.867341],[62.286913,27.01049],[62.745526,43.565534],[60.061403,29.318919],[63.878178,30.933039],[59.515476,27.204385],[57.000748,30.390137],[62.569131,19.716452],[57.693908,16.964843],[56.707488,20.152097],[61.82149,24.820089],[62.17256,24.424431],[60.601302,17.082841],[61.198843,19.053747],[62.731362,24.787042],[62.915359,25.019707],[64.385958,17.490404],[54.681653,15.636532],[62.806071,20.649777],[60.53004,16.894383],[63.126231,15.283045],[71.059698,12.917437],[80.936516,18.75705],[72.060665,17.829271],[74.714519,16.554855],[81.9507,17.852971],[84.345843,18.773822],[79.43076,17.953334],[81.498438,15.884837],[79.526993,20.348182],[83.037027,15.91376],[79.802983,14.907263],[86.833461,12.727788],[78.546569,14.939565],[83.019424,14.169496],[75.969347,19.620799],[84.605052,15.596254],[80.099952,16.656675],[76.239418,14.958862],[75.618085,18.40296],[78.034074,18.567733],[78.987486,24.193556],[75.105826,20.172247],[76.033874,25.769157],[77.569495,30.937689],[76.411535,37.288619],[74.46204,36.340781],[78.353679,41.091287],[81.372821,44.142735],[77.745833,33.359603],[76.640105,39.281442],[74.786494,43.597822],[79.085206,44.065488],[72.990511,41.60831],[77.190089,44.368636],[79.687187,39.015242],[76.998581,41.054852],[77.002472,42.384175],[78.236666,47.776729],[84.355526,45.777359],[84.249271,44.931934],[83.777312,44.817121],[82.829803,44.723265],[80.642279,44.495989],[81.342857,44.663501],[81.427257,44.96471],[82.537536,44.524847],[81.376677,44.690562],[84.399968,44.953323],[80.656839,47.794077],[76.568677,44.951777],[75.849872,46.478989],[80.236108,44.08504],[76.039527,41.669956],[74.632374,43.841021],[80.557097,46.269598],[81.119803,41.424105],[72.932592,38.042557],[77.305283,35.395796],[77.646434,34.024159],[78.160222,32.514236],[73.468536,30.589267],[75.77988,23.63341],[76.434765,23.035337],[80.203048,29.605957],[81.062709,21.190179],[74.593763,24.177372],[81.173769,32.216185],[79.918921,32.431492],[78.648391,19.832726],[77.917119,33.686967],[79.372876,27.498622],[81.460605,26.994662],[79.524642,25.709882],[81.115724,23.628675],[82.090328,17.14999],[83.843358,16.965574],[84.491022,17.574337],[78.764402,15.857595],[79.731649,17.804324],[73.291381,13.752522],[71.900997,14.716076],[61.602975,13.150048],[58.433654,13.15421],[74.552337,13.475678],[76.946004,12.909053],[68.460404,14.226622],[58.81002,19.008713],[62.462425,16.988653],[70.650197,16.968238],[63.366529,17.82926],[62.743135,14.586549],[62.593156,18.654609],[66.992994,18.323834],[67.574304,18.829808],[63.908681,13.96424],[59.95331,14.940802],[68.707749,14.996187],[67.394841,17.910127],[67.49747,15.503454],[67.755843,19.127643],[64.054948,14.671289],[70.826011,14.842948],[62.111462,19.684851],[61.501628,15.409525],[67.995382,17.698811],[63.092537,17.725842],[57.070032,13.373283],[63.051686,12.748671],[53.746657,13.961607],[57.732639,16.025176],[61.310565,23.656897],[60.40472,31.109389],[60.518176,32.675498],[60.579148,25.904533],[59.847117,29.693592],[56.762639,20.432815],[58.128053,17.932004],[56.33677,21.046955],[57.667204,23.217618],[60.05971,17.455262],[60.050883,20.712369],[60.568747,26.45306],[57.023041,24.10924],[58.97713,26.929523],[61.165994,30.055899],[57.38108,31.445003],[57.215538,35.195572],[62.312155,40.961683],[61.046869,44.326],[60.740893,45.159216],[64.005582,47.407355],[56.900966,40.706316],[58.986187,37.070416],[58.725414,37.647789],[61.260736,36.588564],[57.161288,32.61873],[59.629928,40.007474],[69.539033,14.403121],[67.625144,16.515301],[69.932122,19.25601],[64.882602,14.987745],[67.724637,15.165705],[60.890966,18.024762],[69.552374,13.985734],[68.720863,16.805377],[64.093136,18.439177],[64.94725,18.409768],[71.721447,16.981794],[63.234441,13.667434],[64.053221,14.120754],[66.280485,13.651615],[65.204782,12.71894],[65.596824,13.534245],[67.897198,13.836993],[68.58383,14.108116],[70.992485,12.7587],[80.810409,13.571774],[80.302061,13.116147],[87.970664,14.383341],[88.251262,13.860536],[88.333216,13.679958],[88.914769,16.908431],[88.907291,18.805213],[88.161471,17.977492],[88.087532,18.88036],[88.934003,19.21497],[87.122696,18.557486],[86.485152,19.196576],[84.825675,17.993547],[83.767726,17.060788],[84.107459,16.468285],[83.260256,14.488944],[84.347586,14.264475],[84.226697,15.208099],[86.012362,14.686739],[86.632851,15.542811],[87.440578,15.014846],[85.965598,14.436559],[85.946843,12.72924],[87.410782,15.024781],[86.043158,13.773774],[56.022618,18.758397],[58.13719,19.519034],[55.320167,18.171095],[54.738233,18.499616],[53.842425,17.581476],[60.296122,25.479342],[61.146395,26.493668],[59.657575,27.558064],[58.561574,26.611522],[59.986512,29.474356],[60.448767,32.415458],[60.693696,33.905692],[61.056204,35.294413],[61.252886,37.105877],[62.273564,38.470069],[62.987922,38.441029],[61.860905,39.784629],[62.408112,39.15742],[63.203496,39.782896],[62.785811,40.113221],[62.985964,40.474585],[61.408499,41.368411],[76.454341,34.440434],[76.323986,33.781342],[76.136875,34.304098],[74.969039,32.566241],[73.584366,32.395407],[73.543385,33.761253],[73.376266,33.540398],[73.940395,34.331735],[73.110271,33.741419],[73.817959,34.392576],[73.756948,36.237709],[72.687139,37.3731],[72.966903,34.841534],[74.139569,35.82167],[73.210084,37.023578],[85.294206,43.495753],[85.598305,43.952156],[85.859905,44.032661],[86.63525,45.219499],[86.280158,42.853076],[87.472345,43.722822],[87.937527,42.963584],[56.391942,20.43942],[50.212424,19.208107],[57.554202,14.821165],[57.826651,21.204561],[51.811393,20.359626],[50.397962,19.888378],[52.119814,18.990464],[50.047933,15.140698],[47.300692,17.914942],[50.295698,20.370528],[48.880982,16.491794],[50.632913,17.978231],[57.951512,14.763418],[58.1207,14.198055],[53.821483,14.849349],[64.478617,14.678168],[60.045093,21.470965],[64.741646,15.101721],[65.122822,18.008878],[60.599697,23.643251],[58.513046,26.429006],[61.610033,31.503605],[61.963461,24.919072],[57.797329,36.476299],[59.06997,29.79278],[59.549786,35.32201],[62.949934,28.068173],[60.152008,36.505949],[61.135289,31.861884],[58.397556,33.655077],[60.811307,32.404856],[57.845394,41.383252],[59.121318,40.177853],[59.818366,43.295336],[56.455566,45.515208],[55.917247,41.746236],[58.61581,42.848812],[54.385667,44.638887],[55.896934,45.874863],[75.583272,42.429198],[76.428532,39.235317],[78.273418,39.672567],[79.671826,38.505292],[77.452797,40.634883],[77.922238,36.912377],[77.681154,31.045111],[77.15162,30.370154],[76.090874,26.627978],[81.135121,26.625672],[77.125433,24.659746],[75.684092,23.324217],[79.196759,27.099883],[75.680311,21.441263],[76.595849,21.950938],[78.042959,21.460615],[76.408422,21.570601],[73.815766,18.035759],[74.93674,24.295422],[84.887668,18.456255],[80.695689,21.356674],[76.532791,20.57991],[82.153621,14.544223],[78.992495,15.578108],[77.372758,19.507788],[78.52307,15.012102],[80.110553,16.171117],[74.961641,19.816012],[74.795212,19.171935],[80.060025,14.995599],[84.828816,14.915778],[83.196375,19.347951],[82.684705,13.678004],[86.590746,14.711704],[86.657764,19.050564],[78.232155,15.328648],[76.796316,15.866826],[71.5164,12.990212],[69.86737,13.192837],[64.524104,15.877021],[67.584059,16.582286],[59.396577,18.634489],[57.197008,14.787202],[53.66175,15.629641],[51.794579,18.537563],[52.520061,19.870664],[57.558073,16.017745],[56.329434,13.538531],[49.915587,15.290325],[50.95097,19.879937],[47.272784,22.819925],[48.016314,21.028894],[51.380734,14.751061],[50.819168,20.878991],[48.0902,23.470213],[51.777879,18.370286],[48.298049,21.176174],[55.306616,16.064005],[51.127763,15.037798],[49.904562,15.758683],[57.546844,17.774095],[58.709533,13.44833],[56.576907,18.801719],[63.822044,14.566915],[59.61342,15.362997],[51.636798,19.049838],[46.955183,18.012952],[51.596991,19.014331],[51.567986,16.835168],[53.54905,15.982278],[54.204166,19.305851],[52.421974,16.433998],[60.872662,19.397379],[61.464456,20.784075],[56.03439,16.124521],[61.2126,26.367073],[57.666644,29.796359],[61.032469,29.234969],[57.474569,32.955806],[62.577074,35.324389],[58.557251,28.270856],[59.791513,24.059621],[63.645762,25.567049],[56.521929,26.397446],[60.93856,28.530694],[62.130181,27.620078],[56.60621,32.05211],[59.242167,34.441236],[58.3623,27.961227],[62.343153,34.053974],[61.725668,40.460456],[62.127213,37.507254],[62.737917,44.564505],[59.616441,37.905252],[62.830408,43.020386],[62.618269,44.095285],[63.048892,39.879128],[55.937502,41.717717],[60.78144,46.857417],[55.970999,47.569419],[61.897112,43.636479],[61.590124,42.95524],[63.866679,44.737575],[58.174142,42.103376],[58.566569,40.000967],[56.904974,42.333281],[55.474235,47.424571],[54.033659,45.165426],[56.297065,45.982594],[61.458265,43.373675],[59.368085,44.134041],[59.592487,38.965856],[58.775215,34.220388],[61.848268,32.536168],[57.74114,37.753941],[59.453535,30.206783],[59.770734,29.388235],[63.735431,24.99415],[59.16436,28.409335],[60.802187,18.043627],[59.390713,25.36516],[56.986001,21.315299],[57.691353,20.206443],[57.450897,19.72324],[56.409774,15.79523],[63.989464,12.945406],[60.878026,21.200856],[61.905599,16.333922],[64.952887,16.948473],[73.10825,20.506313],[71.188621,14.806407],[80.096883,17.788238],[76.012866,20.609393],[78.096638,20.621123],[79.627931,21.379252],[79.732278,22.932555],[72.529404,24.513956],[79.476255,20.784087],[72.443387,28.801562],[72.848137,26.705044],[78.375625,35.011034],[76.078032,38.676821],[81.063297,34.50946],[73.115508,37.447871],[75.005234,36.739786],[76.025672,37.881577],[77.388109,35.455098],[79.746754,41.582439],[78.667175,46.032275],[80.025356,46.155611],[80.563824,48.18585],[79.912054,46.540095],[86.060435,43.923766],[75.068915,45.648029],[79.029292,40.658211],[74.505331,43.037466],[75.366091,42.098469],[79.1715,36.730544],[75.083295,34.584403],[73.736226,33.592388],[75.259014,29.665513],[75.436517,24.185284],[80.173403,26.914975],[78.40507,21.992512],[80.777575,23.960148],[74.477955,21.410884],[73.799835,26.51237],[78.625185,25.114475],[76.796387,25.532025],[79.45024,32.999687],[76.018901,33.579551],[78.056688,29.449482],[81.467651,35.977339],[76.03609,37.999918],[79.187398,32.673027],[76.240238,32.97705],[81.717421,37.26181],[76.256361,36.284885],[79.500591,39.276954],[74.952344,35.665522],[76.08719,37.815675],[76.292012,43.575825],[79.645195,42.865384],[81.454382,40.311191],[80.347748,43.599224],[76.631724,47.383497],[79.675971,42.65319],[76.164428,43.186027],[82.374038,47.674864],[79.962381,44.30774],[80.706659,42.971062],[80.629106,42.475813],[86.001519,44.746668],[88.847825,43.842999],[82.564269,44.555276],[81.224543,37.246415],[73.197624,32.236397],[81.780011,35.918007],[76.916812,31.389113],[77.864441,31.57146],[78.523059,23.778586],[70.060546,18.254262],[74.789181,15.798045],[75.781731,19.245223],[75.567806,14.839293],[69.990228,18.962349],[69.602459,15.081864],[72.508107,16.866707],[70.243674,14.732115],[81.017112,15.119626],[75.797642,20.534062],[82.774942,14.4048],[78.149035,18.706427],[81.600347,12.981779],[86.49872,15.925635],[79.639036,14.263479],[87.007292,17.698768],[86.776701,18.386306],[82.569042,16.193921],[80.37135,15.260492],[71.448242,13.22388],[72.127188,13.305119],[77.745345,13.408667],[77.788757,19.756256],[81.572589,17.106243],[81.301333,17.893683],[76.642776,19.873955],[78.985717,14.735027],[79.090292,19.919622],[74.015003,14.771029],[72.065586,18.857727],[78.281312,13.08693],[79.083144,16.403144],[73.574685,18.175683],[70.620148,15.852571],[69.499162,16.070299],[63.753893,14.179936],[66.329918,13.427203],[62.573567,14.708242],[53.171907,18.150669],[51.477945,15.465907],[46.774837,17.925177],[48.674906,17.769829],[48.473655,22.282191],[49.24747,20.207993],[49.788698,16.919808],[47.025253,19.677614],[56.470847,23.041734],[61.475163,23.306257],[57.70877,32.234004],[57.534445,26.814081],[59.431401,21.597039],[61.162599,26.53655],[62.751678,29.358798],[61.245428,20.412398],[58.442295,26.599287],[58.170824,26.144687],[56.26408,20.719779],[59.665859,21.321882],[57.195066,17.471162],[57.519511,27.83902],[63.523609,21.292032],[63.743559,26.717086],[63.070641,25.813027],[62.433726,20.508191],[73.738103,24.422553],[78.729179,30.976359],[76.794415,27.327508],[81.702414,33.219491],[79.366655,32.890798],[78.348834,30.317965],[74.161978,32.892125],[76.228372,30.682841],[73.364974,38.557203],[77.460218,38.793614],[76.798582,37.682773],[73.190753,39.162907],[81.439523,42.695567],[77.947765,41.300734],[77.880647,44.54678],[75.129364,46.419583],[78.274675,44.054203],[79.641454,45.713166],[73.588198,43.085931],[77.64846,39.77165]
];

console.log("#coordinates: ", coordinates.length);

let min = [Infinity, Infinity];
let sum = [0, 0];
let n = coordinates.length;
for(let c of coordinates){
    sum[0] += c[0];
    sum[1] += c[1];

    min[0] = Math.min(min[0], c[0]);
    min[1] = Math.min(min[1], c[1]);
}
let center = [
    sum[0] / n,
    sum[1] / n,
];


function distance(a, b){
    let dx = a[0] - b[0];
    let dy = a[1] - b[1];
    let dd = dx * dx + dy * dy;

    return Math.sqrt(dd);
}

coordinates.sort( (a, b) => {
    let ac = distance(a, center);
    let bc = distance(b, center);

    ac += Math.random() * 0.3;
    bc += Math.random() * 0.3;

    return bc - ac;

    // return b[0] - a[0];
});

// console.log("accepted: ", accepted);

function createCircle(x, y, r){
	let circle = document.createElementNS(svgns, "circle");

	circle.setAttributeNS(null, "cx", x);
	circle.setAttributeNS(null, "cy", y);
	circle.setAttributeNS(null, "r", r);
	circle.setAttributeNS(null, "style", "fill: black; stroke: none");

	return circle;
	//svg.appendChild(circle);
};

function downsample(spacing, size){

    let accepted = [];

    function checkAccept(candidate){

        for(let a of accepted){
            let d = distance(a, candidate);

            if(d < spacing){
                return false;
            }
        }

        return true;
    }

    for(let candidate of coordinates){

        let isAccepted = checkAccept(candidate);

        if(isAccepted){
            accepted.push(candidate);
        }

    }

    let svg = document.createElementNS(svgns, "svg");
    svg.setAttribute("class", "cartesian");
	svg.setAttribute("width", 100);
	svg.setAttribute("height", 100);
    document.body.appendChild(svg);

    let lines = [];
    for(let a of accepted){

        let [x, y] = a;

        // x = x + 50;
        x = 2 * (x - min[0] + 2);
        y = 2 * (y - min[1] + 2 + 8);

        let src = `<use
            style="display:inline"
            transform="translate(${x},${y})"
            height="100%"
            width="100%"
            y="0"
            x="0"
            xlink:href="#path9890"
            inkscape:spray-origin="#path9890"
            id="use9923" />
        `;

        let circle = createCircle(x, y, size);
		svg.appendChild(circle);

        // lines.push(src);
    }

    console.log("#accepted: ", accepted.length)
    // console.log(lines.join("\n"));
}

downsample(0, 1.);
// downsample(1, 0.5);
downsample(1.5, 1.2);
downsample(3., 2);
// downsample(8, 4);




</script>

</body>